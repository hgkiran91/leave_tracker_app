<div class="container-fluid mt-5">
  <div class="row">
    <!-- Table Column -->
    <div class="col-7">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <div class="d-flex justify-content-between align-items-center gap-2">
            <h4 class="mb-0">
              <i class="fa fa-list"></i> Employee List
            </h4>
            <!-- Search Field -->
            <div class="d-flex align-items-center">
              <div class="input-group input-group-sm">
                <span class="input-group-text bg-white">
                  <i class="fa fa-search text-dark"></i>
                </span>
                <input 
                  type="text" 
                  class="form-control form-control-sm" 
                  placeholder="Search by Name, Email, Department..."
                  [(ngModel)]="searchText"
                  (ngModelChange)="onSearchEmployee()"
                  name="searchField">
                <button 
                  class="btn btn-sm btn-light" 
                  type="button"
                  (click)="onClearSearch()">
                  <i class="fa fa-times"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-striped table-hover">
              <thead class="table-light">
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Department</th>
                  <th>Contact</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                @for (item of filteredEmployeeList; track $index) {
                <tr>
                  <td>{{$index + 1}}</td>
                  <td>{{item.empName}}</td>
                  <td>{{item.email}}</td>
                  <td>{{item.deptName}}</td>
                  <td>{{item.contactNo}}</td>
                  <td>
                    <button (click)="onEdit(item)" class="btn btn-sm btn-info" title="Edit">
                      <i class="fa fa-edit"></i>
                    </button>
                    <button (click)="onDelete(item.empId)" class="btn btn-sm btn-danger" title="Delete">
                      <i class="fa fa-trash"></i>
                    </button>
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Form Column -->
    <div class="col-5">
      <div class="card">
        <div class="card-header bg-success text-white">
          <h4 class="mb-0">
            <i class="fa fa-plus-circle"></i> Add/Edit Employee
          </h4>
        </div>
        <div class="card-body">
          <form>
            <!-- <div class="mb-3">
              <label for="employeeId" class="form-label">Employee ID</label>
              <input type="text"[(ngModel)]="employeeObj.empId" class="form-control form-control-sm" id="employeeId" placeholder="Auto-generated" disabled>
            </div> -->

            <div class="mb-3">
              <label for="employeeName" class="form-label">Name <span class="text-danger">*</span></label>
              <input type="text" name="empName" [(ngModel)]="employeeObj.empName" class="form-control form-control-sm" id="employeeName" placeholder="Enter employee name" required>
            </div>

            <div class="mb-3">
              <label for="employeeEmail" class="form-label">Email <span class="text-danger">*</span></label>
              <input type="email" name="email" [(ngModel)]="employeeObj.email" class="form-control form-control-sm" id="employeeEmail" placeholder="Enter email address" required>
            </div>

            <div class="mb-3">
              <label for="employeePhone" class="form-label">Phone</label>
              <input type="tel" name="contactNo" [(ngModel)]="employeeObj.contactNo" class="form-control form-control-sm" id="employeePhone" placeholder="Enter phone number">
            </div>

             <div class="mb-3">
              <label for="employeeDepartment" class="form-label">Department</label>
              <input type="department" name="deptName" [(ngModel)]="employeeObj.deptName" class="form-control form-control-sm" id="employeeDepartment" placeholder="Enter Department">
            </div>

            <!-- <div class="mb-3">
              <label for="employeeDepartment" class="form-label">Department <span class="text-danger">*</span></label>
              <select name="deptName" class="form-select" [(ngModel)]="employeeObj.deptName" id="employeeDepartment" required>
                <option value="">Select Department</option>
                <option value="IT">IT</option>
                <option value="HR">HR</option>
                <option value="Finance">Finance</option>
                <option value="Operations">Operations</option>
                <option value="Marketing">Marketing</option>
              </select>
            </div> -->

            <div class="mb-3">
              <label for="employeePosition" class="form-label">Designation</label>
              <input type="text" name="designation" [(ngModel)]="employeeObj.designation" class="form-control form-control-sm" id="employeePosition" placeholder="Enter position">
            </div>

            <div class="mb-3">
              <label for="employeeUserName" class="form-label">UserName</label>
              <input type="text" name="userName" [(ngModel)]="employeeObj.userName" class="form-control form-control-sm" id="employeeUserName" placeholder="Enter UserName">
            </div>

            <div class="mb-3">
              <label for="employeePassword" class="form-label">Password</label>
              <input type="text" name="password" [(ngModel)]="employeeObj.password" class="form-control form-control-sm" id="employeePassword" placeholder="Enter Password">
            </div>

            <!-- <div class="mb-3">
              <label for="employeeRole" class="form-label">Role</label>
              <input type="text" name="role" [(ngModel)]="employeeObj.role" class="form-control form-control-sm" id="employeeRole" placeholder="Enter Role">
            </div> -->

            <div class="mb-3">
              <label for="employeeRole" class="form-label">Role <span class="text-danger">*</span></label>
              <select name="role" class="form-select" [(ngModel)]="employeeObj.role" id="employeeRole" required>
                <option value="">Select Role</option>
                <option value="Employee">Employee</option>
                <option value="Hr">Hr</option>
              </select>
            </div>

            <!-- <div class="mb-3">
              <label for="employeeStatus" class="form-label">Status</label>
              <select class="form-select" id="employeeStatus">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
                <option value="on-leave">On Leave</option>
              </select>
            </div> -->

            <div class="d-flex gap-2">
                @if(employeeObj.empId == 0) {
                    <button type="button" class="btn btn-success flex-grow-1" (click)="onSaveEmployee()">
                        <i class="fa fa-save"></i> Save</button>
                } @else {
                    <button type="reset" class="btn btn-warning flex-grow-1" (click)="onUpdateEmployee()">
                        <i class="fa fa-edit"></i> Update</button>
                }
                <button type="button" class="btn btn-secondary flex-grow-1">
                <i class="fa fa-refresh"></i> Reset
              </button>
              <button type="button" class="btn btn-secondary flex-grow-1">
                <i class="fa fa-times"></i> Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
